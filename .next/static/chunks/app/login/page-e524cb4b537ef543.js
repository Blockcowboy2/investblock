(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{1758:(e,t,n)=>{Promise.resolve().then(n.bind(n,6488))},6488:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var a=n(5155),s=n(2115),r=n(6203),i=n(5317),l=n(3915),c=n(6864);let o=(0,l.Wp)({apiKey:"AIzaSyA7LczHwNoDH-vyzwt7w3qeYXP0qmnUMb0",authDomain:"investblock.firebaseapp.com",projectId:"investblock",storageBucket:"investblock.firebasestorage.app",messagingSenderId:"878436185615",appId:"1:878436185615:web:1a394d1a3f6bd65d37957a",measurementId:"G-LYQLHS4508"});(0,c.P5)(o);let u=(0,r.xI)(o),d=(0,i.aU)(o),h=()=>{let[e,t]=(0,s.useState)(""),[n,l]=(0,s.useState)(""),[c,o]=(0,s.useState)(null),[h,g]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=(0,r.hg)(u,async e=>{if(o(e),e){let t=(0,i.H9)(d,"users",e.uid);if(!(await (0,i.x7)(t)).exists())try{await (0,i.BN)(t,{email:e.email,isAdmin:!1,createdAt:new Date}),console.log("User document created for",e.uid)}catch(e){console.error("Error creating user document:",e)}}});return()=>e()},[]);let p=async t=>{t.preventDefault(),g(null);try{await (0,r.eJ)(u,e,n)}catch(e){g(e.message)}},m=async t=>{t.preventDefault(),g(null);try{await (0,r.x9)(u,e,n)}catch(e){g(e.message)}},x=async()=>{g(null);try{let e=new r.HF;await (0,r.df)(u,e)}catch(e){console.error("Google Sign-In Error:",e),g(e.message)}},b=async()=>{g(null);try{await (0,r.CI)(u)}catch(e){g(e.message)}};return c?(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{children:["Welcome, ",c.email]}),(0,a.jsx)("p",{children:"You are signed in."}),(0,a.jsx)("button",{onClick:b,children:"Sign Out"})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Sign Up or Sign In"}),(0,a.jsxs)("form",{onSubmit:m,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Email:"}),(0,a.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Password:"}),(0,a.jsx)("input",{type:"password",value:n,onChange:e=>l(e.target.value),required:!0})]}),(0,a.jsx)("button",{type:"submit",children:"Sign In"}),(0,a.jsx)("button",{type:"button",onClick:p,children:"Sign Up"})]}),(0,a.jsx)("button",{onClick:x,children:"Sign in with Google"}),h&&(0,a.jsx)("p",{style:{color:"red"},children:h})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,163,566,441,684,358],()=>t(1758)),_N_E=e.O()}]);